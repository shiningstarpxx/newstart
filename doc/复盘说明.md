## 复盘说明

##### author:  michaelpei

##### email:  michaelpei@tencent.com, xingxinpei@gmail.com

## 背景说明 & Why need this
首先，我们所做的讨论以及对应采取的操作都是基于下面的事实，即
```
***无论我们怎么怎么努力避免，总会有意料之外的错误发生***
```
上面的事实，或许对于研发人员来说是个绝望，我们采用了方案评审，代码评审（CR），自测（甚至引入单元测试，事实上也增加了我们很多工作量），以及包括测试接入，以及更高级的回归测试，自动化回放测试，其中付出的成本和精力之多，实在不为产品经理，以及各位老板所知。但必须承认，无论我们在上面多么努力，我们只是尽可能的减少了错误的发生，却不可能避免其发生。这或许也是我们程序员存在的一种意义，我也很难想象，如果没有错误，我们的世界是否变得苍白和丑陋，失去了进步的空间和动力。

## 复盘的核心原则
接受了错误不可能完全避免的事实后，那我们接下来应对的措施也要有一个操作的基本原则
```
复盘的整个过程我们只针对问题，愿意开放的心态接受挑战, 以此能接近甚至找到问题的本质，愿意追求极致，甚至是一种创新的方式解决问题
```
上面的原则是这项活动的基石，一旦复盘时有了情绪，需要尽可能及时的平复下来，避免让这项活动成为竹篮打水的一场空

## 复盘基本过程

复盘可以遵循下面的几个步骤，我们也会大概解释每一步这样做的意义

**STEP 1.** 复盘的目的是找出发生问题的过程。通常至少要搞懂下面的几个问题
			1. 详细问题一开始是谁发现的？（用户？产品？运营？告警？）如果不是自动化告警发现的，那么尽量把它自动化。
   			2. 隔了多久发现的？是不是第一时间？如果不是第一时间？能不能更快的发现？

**STEP 2.** 当时解决问题所采用的的手段

1. 采取了哪些手段？这个过程中，有没有依赖到外部资源？能不能全部自动化？
2. 这些手段是临时的？还是永久解决问题的？

**STEP 3.** 从根本上搞清楚问题的本质和原因

1. 回到项目之初，我们在什么样的场景下，做了什么什么权衡，设计了这样的方案
2. 这些问题可能在设计之初就避免么？如果能，怎么避免？
3. 如果是现在的我们，回到过去，我们应该怎么设计方案？是否有更好的选择？

**STEP 4.** 我们如何采用更彻底的手段来避免此类问题再次发生

1. 尽可能减少外部依赖
2. 如果有长期工程需要完成，如何保证不要跟丢了

## 复盘的模板

#### Reference
1. [谷歌的复盘说明](https://sre.google/sre-book/postmortem-culture/)
2. 谷歌的测试之道
3. 公司内之前Fit讲过的
4. [百度复盘](https://km.woa.com/group/18997/attachments/attachment_view/164623)

